import{r as l,u as m,c as h,j as e,b as g}from"./index-kHV-VyIh.js";import{u as p}from"./quizStore-B_VpjtdZ.js";const u=r=>l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:"1em",height:"1em",...r},l.createElement("path",{d:"M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"})),f=[2,5],y=()=>{const r=m(),[d]=h(),t=Number(d.get("categoryId")),{categories:n,fetchCategories:i,quizzes:o,fetchCategoryQuizzes:c,loading:b}=p();l.useEffect(()=>{i()},[i]),l.useEffect(()=>{t&&c(t)},[t,c]);const x=(s,a)=>{a||r(`?categoryId=${s}`)};return e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 sm:p-6 md:p-8 font-sans",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsxs("aside",{className:"w-full lg:w-64 bg-white p-4 sm:p-6 rounded-2xl shadow top-4",children:[e.jsx("h2",{className:"title sm:text-xl font-bold text-dark-color mb-4 border-b pb-2",children:"კატეგორიები"}),e.jsx("ul",{className:"space-y-2",children:n.map(s=>{const a=f.includes(s.id);return e.jsx("li",{children:e.jsxs("button",{onClick:()=>x(s.id,a),disabled:a,className:`w-full flex items-center justify-between px-4 py-2 rounded-xl transition duration-200 font-medium text-sm sm:text-base ${t===s.id&&!a?"bg-main-color text-white shadow":a?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-gray-50 hover:bg-gray-200 text-gray-700"}`,children:[e.jsx("span",{children:s.title}),a&&e.jsx(u,{className:"w-4 h-4"})]})},s.id)})})]}),e.jsx("main",{className:"flex-1 bg-white p-6 rounded-2xl shadow-lg",children:t?e.jsxs("div",{children:[e.jsxs("h3",{className:"title sm:text-2xl font-bold text-dark-color mb-6",children:["ტესტები კატეგორიაში #",t]}),o.length===0?e.jsx("p",{className:"plain-text text-gray-500",children:"ტესტები ვერ მოიძებნა."}):e.jsx("div",{className:"flex flex-col gap-4",children:o.map(s=>e.jsx(g,{to:`/quiz/${t}/${s.id}`,children:e.jsxs("div",{className:"border w-full border-gray-200 p-4 rounded-xl cursor-pointer shadow-sm hover:shadow-md transition",children:[e.jsx("h4",{className:"title font-semibold",children:s.title}),s.description&&e.jsx("p",{className:"plain-text text-gray-600",children:s.description})]})},s.id))})]}):e.jsx("span",{className:"text-gray-500",children:"აირჩიეთ კატეგორია მარცხნიდან"})})]})})};export{y as default};
