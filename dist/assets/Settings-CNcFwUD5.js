import{r,U as v,a as C,j as e,m as w}from"./index-kHV-VyIh.js";const S=()=>r.useContext(v),k=()=>{const[f,a]=r.useState(""),[l,c]=r.useState(""),[x,u]=r.useState(""),[o,d]=r.useState(null),{resetPassword:p,loading:g}=C(),h=async t=>{if(t.preventDefault(),d(null),l!==x){const b="პაროლები არ ემთხვევა";d(b),w.error(b);return}const m=await p({currentPassword:f,newPassword:l});m.success?(w.success("პაროლი წარმატებით შეიცვალა"),a(""),c(""),u("")):(d(m.message||"დაფიქსირდა შეცდომა"),w.error(m.message||"დაფიქსირდა შეცდომა"))};return e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"შენი არსებული პაროლი"}),e.jsx("input",{type:"password",value:f,onChange:t=>a(t.target.value),className:"w-full bg-gray-100 p-3 rounded-xl outline-none text-sm",placeholder:"არსებული პაროლი"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"შეცვალე პაროლი"}),e.jsx("input",{type:"password",value:l,onChange:t=>c(t.target.value),className:"w-full bg-gray-100 p-3 rounded-xl outline-none text-sm",placeholder:"ახალი პაროლი"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"დაადასტურე პაროლი"}),e.jsx("input",{type:"password",value:x,onChange:t=>u(t.target.value),className:"w-full bg-gray-100 p-3 rounded-xl outline-none text-sm",placeholder:"დაადასტურე"})]})]}),o&&e.jsx("p",{className:"text-red-500 text-sm",children:o}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:g,className:"w-48 bg-main-color cursor-pointer text-white font-semibold py-3 rounded-xl hover:opacity-90 transition disabled:opacity-50",children:"შენახვა"})})]})},y=["პროფილი","უსაფრთხოება და კონფიდენციალურობა","გადახდები","შეკვეთების ისტორია"];function D(){const a=new URLSearchParams(window.location.search).get("tab"),[l,c]=r.useState(a||"პროფილი"),{profileImage:x,setProfileImage:u,themeColor:o,setThemeColor:d}=S(),[p,g]=r.useState([{id:1,type:"Visa",last4:"1234",isDefault:!0},{id:2,type:"MasterCard",last4:"5678",isDefault:!1}]),h=[{id:"ORD-001",date:"2025-05-01",total:"₾8.00",status:"მიწოდებულია",items:["მათემატიკის ტესტები","ვიდეო გაკვეთილები"]},{id:"ORD-002",date:"2025-04-20",total:"₾10.00",status:"მიმდინარეობს",items:["SAT მოსამზადებელი კურსი"]},{id:"ORD-003",date:"2025-04-01",total:"₾6.00",status:"გაუქმდა",items:["ტესტების პაკეტი"]}];r.useEffect(()=>{a&&y.includes(a)&&c(a)},[a]);const t=s=>{c(s);const n=new URLSearchParams(window.location.search);n.set("tab",s);const i=`${window.location.pathname}?${n.toString()}`;window.history.replaceState({},"",i)},m=s=>{g(n=>n.filter(i=>i.id!==s))},b=s=>{var i;const n=(i=s.target.files)==null?void 0:i[0];if(n){const j=new FileReader;j.onloadend=()=>u(j.result),j.readAsDataURL(n)}},N=()=>{switch(l){case"პროფილი":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[e.jsx("img",{src:x,alt:"Profile",className:"w-20 h-20 sm:w-16 sm:h-16 rounded-full object-cover"}),e.jsxs("label",{className:"cursor-pointer text-white px-4 py-2 rounded-xl text-sm font-medium",style:{backgroundColor:o},children:["ფოტოს შეცვლა",e.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"hidden"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"სახელი"}),e.jsx("input",{className:"w-full bg-gray-100 p-3 rounded-xl outline-none text-sm",placeholder:"შეიყვანე სახელი"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-1",children:"ელ.ფოსტა"}),e.jsx("input",{className:"w-full bg-gray-100 p-3 rounded-xl outline-none text-sm",placeholder:"შეიყვანე ელ.ფოსტა"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold mb-2",children:"მოირგე ფეიჯი"}),e.jsx("div",{className:"flex gap-3",children:["blue","red","black"].map(s=>e.jsx("div",{onClick:()=>d(s),className:`w-8 h-8 rounded-lg cursor-pointer border-2 transition ${o===s?"border-[3px] border-gray-500 scale-105":"border-transparent"}`,style:{backgroundColor:s}},s))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"აირჩიე ფერი - ეს შენი არჩევანია"})]})]});case"უსაფრთხოება და კონფიდენციალურობა":return e.jsx(k,{});case"გადახდები":return e.jsxs("div",{className:"space-y-6 relative",children:[e.jsx("div",{className:"absolute flex items-center justify-center left-0 top-0 w-full h-full bg-white/75",children:e.jsx("p",{className:"title text-dark-color",children:"ეს გვერდი დროებით მიუწვდომელია."})}),e.jsx("h3",{className:"text-sm font-semibold mb-2",children:"შენახული გადახდის მეთოდები"}),e.jsxs("div",{className:"space-y-4",children:[p.map(s=>e.jsxs("div",{className:`flex items-center justify-between border p-4 rounded-xl ${s.isDefault?"border-main-color":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:s.type==="Visa"?"/visa.svg":s.type==="MasterCard"?"/mastercard.svg":"/card.svg",alt:s.type,className:"w-10"}),e.jsxs("p",{className:"text-sm",children:[s.type," **** ",s.last4,s.isDefault&&e.jsx("span",{className:"ml-2 text-xs bg-main-color text-white px-2 py-0.5 rounded",children:"ძირითადი"})]})]}),e.jsx("button",{className:"text-sm text-red-600 hover:underline",onClick:()=>m(s.id),children:"წაშლა"})]},s.id)),p.length===0&&e.jsx("p",{className:"text-sm text-gray-500",children:"არ გაქვს გადახდის მეთოდები დამატებული"})]})]});case"შეკვეთების ისტორია":return e.jsxs("div",{className:"space-y-4 relative",children:[e.jsx("div",{className:"absolute flex items-center justify-center left-0 top-0 w-full h-full bg-white/75",children:e.jsx("p",{className:"title text-dark-color",children:"ეს გვერდი დროებით მიუწვდომელია."})}),h.length>0?h.map(s=>e.jsxs("div",{className:"border rounded-xl p-4 bg-gray-50 hover:shadow transition",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("p",{className:"text-sm font-semibold",children:["შეკვეთა #",s.id]}),e.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${s.status==="მიწოდებულია"?"bg-green-100 text-green-700":s.status==="მიმდინარეობს"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:s.status})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["თარიღი: ",s.date]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["პროდუქტები: ",s.items.join(", ")]}),e.jsxs("p",{className:"text-sm text-gray-800 mt-1 font-medium",children:["ჯამური ღირებულება: ",s.total]})]},s.id)):e.jsx("p",{className:"text-sm text-gray-500",children:"ჯერჯერობით შეკვეთების ისტორია არ მოიძებნა."})]});default:return null}};return e.jsxs("div",{className:"w-full px-4 py-6 sm:px-6 md:px-10 max-w-5xl mx-auto",children:[e.jsx("div",{className:"w-full border-b-2 mb-6",children:e.jsx("div",{className:"flex flex-wrap justify-start gap-x-6 gap-y-2 px-2 py-3",children:y.map(s=>e.jsx("p",{onClick:()=>t(s),className:`cursor-pointer text-sm sm:text-base md:text-lg whitespace-nowrap ${l===s?"underline font-semibold text-main-color":"text-gray-700"}`,children:s},s))})}),e.jsxs("div",{className:"w-full bg-white p-5 sm:p-6 md:p-8 rounded-xl shadow-md min-h-[530px] transition-all duration-300 ease-in-out",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-bold mb-4",children:l}),e.jsx("div",{className:"transition-opacity duration-300 opacity-100",children:N()},l)]})]})}export{D as default};
