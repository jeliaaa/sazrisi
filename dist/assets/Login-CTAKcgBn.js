import{r as a,j as e,u as j,a as b,L as y,l as v,b as N,V as w}from"./index-kHV-VyIh.js";const c=a.forwardRef(({label:s,value:o,...r},t)=>e.jsxs("div",{children:[e.jsx("label",{className:"text-lg font-medium text-gray-900",children:e.jsx("span",{className:"text-base",children:s})}),e.jsx("input",{ref:t,value:o??"",className:"w-full mt-2 px-3 py-2 border border-dark-color rounded-md text-md text-dark-color shadow-sm focus:outline-none focus:ring-2 focus:ring-main-color focus:border-main-color",...r})]}));c.displayName="Input";const S=()=>{const s=j(),{login:o,loading:r,error:t,isAuth:d}=b(),[m,u]=a.useState(!1);a.useEffect(()=>{u(!0)},[]),a.useEffect(()=>{d&&s("/")},[d,s]);const[l,f]=a.useState({email:"",password:""}),i=n=>{const{name:x,value:h}=n.target;f(g=>({...g,[x]:h}))},p=async n=>{n.preventDefault(),await o(l.email,l.password)?s("/"):w.error("დაფიქსირდა შეცდომა!")};return m?e.jsx("div",{className:"w-full h-screen flex items-center justify-center",children:e.jsxs("div",{className:"bg-white text-dark-color flex-col md:w-1/2 h-[500px] rounded-xl shadow-2xl p-10 flex items-center justify-center",children:[e.jsxs("div",{className:"flex items-end gap-x-3",children:[e.jsx("img",{src:v,alt:"logo",className:"w-10"}),e.jsx("span",{className:"text-3xl text-dark-color",children:"Sazrisi"})]}),e.jsxs("form",{onSubmit:p,className:"flex flex-col gap-y-5 justify-center h-full w-full",children:[e.jsx("div",{className:"flex flex-col gap-y-2",children:e.jsx(c,{label:"მომხმარებლის სახელი",name:"email",value:l.email,onChange:i})}),e.jsx("div",{className:"flex flex-col gap-y-2",children:e.jsx(c,{label:"პაროლი",name:"password",type:"password",value:l.password,onChange:i})}),t&&e.jsx("span",{className:"text-red-500",children:t}),e.jsx("button",{disabled:r,className:"mt-5 bg-dark-color text-gray-100 py-[10px] px-[35px] rounded-[10px] cursor-pointer transition-all delay-75 border-2 hover: border-dark-color hover:bg-transparent hover:text-dark-color",type:"submit",children:r?"იტვირთება...":"შესვლა"}),e.jsxs("span",{children:["არ გაქვს ანგარიში?"," ",e.jsx(N,{className:"text-main-color underline ml-2",to:"/register",children:"დარეგისტრირდი"})]})]})]})}):e.jsx(y,{})};export{S as default};
