import{r,j as e,L as u,b as d}from"./index-kHV-VyIh.js";import{u as x}from"./newsStore-C6qC5K_W.js";function p(s,a){const t=s.split(" ");return t.length<=a?s:t.slice(0,a).join(" ")+"..."}const g=()=>{const[s,a]=r.useState(1),t=8,[l,m]=r.useState([]),{loading:f,fetchNews:o,news:i}=x(),h=Math.ceil(i.length/t);return r.useEffect(()=>{o()},[o]),r.useEffect(()=>{m(i.slice((s-1)*t,s*t))},[i,s]),f?e.jsx(u,{}):e.jsxs("div",{className:"min-h-screen w-full p-5",children:[e.jsx("h1",{className:"title text-dark-color",children:"ახალი ამბები"}),e.jsx("div",{className:"flex gap-3 mt-3 justify-around flex-wrap",children:l.map(c=>e.jsxs(d,{to:`/news/${c.id}`,className:"flex flex-col shadow-md w-[320px]",children:[e.jsx("span",{children:new Date(c.created_at).toISOString().split("T")[0]}),e.jsx("img",{src:"https://picsum.photos/350/200",className:"w-full"}),e.jsxs("div",{className:"p-3 flex flex-col gap-y-3",children:[e.jsx("span",{className:"title text-dark-color",children:c.title}),e.jsx("span",{className:"plain-text text-dark-color",children:p(c.description,10)}),e.jsx("span",{className:"text-main-color flex  justify-end hover:underline",children:"იხ. სრულად"})]})]},c.id))}),e.jsx("div",{className:"flex gap-x-4 justify-center items-center mt-6",children:Array.from({length:h},(c,n)=>e.jsx("button",{onClick:()=>a(n+1),className:`px-3 py-1 rounded ${s===n+1?"bg-main-color text-white":"bg-gray-200"}`,children:n+1},n))})]})},w=()=>{const{loading:s,fetchNews:a,news:t}=x();return r.useEffect(()=>{a()},[a]),e.jsx("div",{className:"flex gap-3 mt-3 justify-around flex-wrap",children:t.slice(0,4).map(l=>e.jsxs(d,{to:`/news/${l.id}`,className:"flex flex-col shadow-md w-[320px]",children:[e.jsx("span",{children:new Date(l.created_at).toISOString().split("T")[0]}),e.jsx("img",{src:"https://picsum.photos/350/200",className:"w-full"}),e.jsxs("div",{className:"p-3 flex flex-col gap-y-3",children:[e.jsx("span",{className:"title text-dark-color",children:l.title}),e.jsx("span",{className:"plain-text text-dark-color",children:p(l.description,10)}),e.jsx("span",{className:"text-main-color flex  justify-end hover:underline",children:"იხ. სრულად"})]})]},l.id))})};export{w as MainNewsComponent,g as default};
